"use strict";(self.webpackChunkuser=self.webpackChunkuser||[]).push([[53],{5053:(y,p,a)=>{a.r(p),a.d(p,{AdminModule:()=>C});var m=a(6019),u=a(7537),g=a(1509),T=a(9808),e=a(3556),h=a(1342);let Z=(()=>{class i{constructor(o,n,d){this.repository=o,this.router=n,this.updating=!1,this.survey=new T.m,this.updating="update"===d.snapshot.params.mode,this.updating&&Object.assign(this.survey,o.getSurvey(d.snapshot.params.id))}ngOnInit(){}save(o){this.repository.saveSurvey(this.survey),this.router.navigateByUrl("/survey-list")}}return i.\u0275fac=function(o){return new(o||i)(e.Y36(h.H),e.Y36(g.F0),e.Y36(g.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-update"]],decls:73,vars:23,consts:[[1,"bg-primary","p-2","text-white"],["novalidate","",1,"content",3,"ngSubmit"],["form","ngForm"],[1,"container","row","m-3","pb-5"],[1,"input-group","col"],[1,"input-group-text"],["type","text","id","surveyTitle","name","surveyTitle","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","surveyLifetime","name","surveyLifetime","min","1","max","20","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"container"],["id","question",1,"input-group","mb-3","m-3"],["type","text","id","question1Textfield","name","question1","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","question2Textfield","name","question2","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","question3Textfield","name","question3","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","question4Textfield","name","question4","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","question5Textfield","name","question5","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","question6Textfield","name","question6","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","question7Textfield","name","question7","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","question8Textfield","name","question8","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","question9Textfield","name","question9","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","question10Textfield","name","question10","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"container","text-center"],["type","submit",1,"btn","btn-primary"],["routerLink","/survey-list","type","reset",1,"btn","btn-warning","m-3"],[1,"fas","fa-undo"]],template:function(o,n){if(1&o){const d=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"h5"),e._uU(2),e.qZA(),e.qZA(),e.TgZ(3,"form",1,2),e.NdJ("ngSubmit",function(){e.CHM(d);const t=e.MAs(4);return n.save(t)}),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"span",5),e._uU(8,"Survey Name"),e.qZA(),e.TgZ(9,"input",6),e.NdJ("ngModelChange",function(t){return n.survey.title=t}),e.qZA(),e.qZA(),e.TgZ(10,"div",4),e.TgZ(11,"span",5),e._uU(12,"Survey Lifetime"),e.qZA(),e.TgZ(13,"input",7),e.NdJ("ngModelChange",function(t){return n.survey.lifetime=t}),e.qZA(),e.TgZ(14,"span",5),e._uU(15,"Days"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",8),e.TgZ(17,"div",9),e.TgZ(18,"span",5),e._uU(19,"1"),e.qZA(),e.TgZ(20,"input",10),e.NdJ("ngModelChange",function(t){return n.survey.q1=t}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"div",8),e.TgZ(22,"div",9),e.TgZ(23,"span",5),e._uU(24,"2"),e.qZA(),e.TgZ(25,"input",11),e.NdJ("ngModelChange",function(t){return n.survey.q2=t}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",8),e.TgZ(27,"div",9),e.TgZ(28,"span",5),e._uU(29,"3"),e.qZA(),e.TgZ(30,"input",12),e.NdJ("ngModelChange",function(t){return n.survey.q3=t}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"div",8),e.TgZ(32,"div",9),e.TgZ(33,"span",5),e._uU(34,"4"),e.qZA(),e.TgZ(35,"input",13),e.NdJ("ngModelChange",function(t){return n.survey.q4=t}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"div",8),e.TgZ(37,"div",9),e.TgZ(38,"span",5),e._uU(39,"5"),e.qZA(),e.TgZ(40,"input",14),e.NdJ("ngModelChange",function(t){return n.survey.q5=t}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(41,"div",8),e.TgZ(42,"div",9),e.TgZ(43,"span",5),e._uU(44,"6"),e.qZA(),e.TgZ(45,"input",15),e.NdJ("ngModelChange",function(t){return n.survey.q6=t}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(46,"div",8),e.TgZ(47,"div",9),e.TgZ(48,"span",5),e._uU(49,"7"),e.qZA(),e.TgZ(50,"input",16),e.NdJ("ngModelChange",function(t){return n.survey.q7=t}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",8),e.TgZ(52,"div",9),e.TgZ(53,"span",5),e._uU(54,"8"),e.qZA(),e.TgZ(55,"input",17),e.NdJ("ngModelChange",function(t){return n.survey.q8=t}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(56,"div",8),e.TgZ(57,"div",9),e.TgZ(58,"span",5),e._uU(59,"9"),e.qZA(),e.TgZ(60,"input",18),e.NdJ("ngModelChange",function(t){return n.survey.q9=t}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(61,"div",8),e.TgZ(62,"div",9),e.TgZ(63,"span",5),e._uU(64,"10"),e.qZA(),e.TgZ(65,"input",19),e.NdJ("ngModelChange",function(t){return n.survey.q10=t}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(66,"div",20),e.TgZ(67,"button",21),e._UZ(68,"i"),e._uU(69),e.qZA(),e.TgZ(70,"a",22),e._UZ(71,"i",23),e._uU(72," Cancel"),e.qZA(),e.qZA(),e.qZA()}2&o&&(e.ekj("bg-warning",n.updating)("text-dark",n.updating),e.xp6(2),e.hij("",n.updating?"Update":"Create"," Survey"),e.xp6(7),e.Q6J("ngModel",n.survey.title),e.xp6(4),e.Q6J("ngModel",n.survey.lifetime),e.xp6(7),e.Q6J("ngModel",n.survey.q1),e.xp6(5),e.Q6J("ngModel",n.survey.q2),e.xp6(5),e.Q6J("ngModel",n.survey.q3),e.xp6(5),e.Q6J("ngModel",n.survey.q4),e.xp6(5),e.Q6J("ngModel",n.survey.q5),e.xp6(5),e.Q6J("ngModel",n.survey.q6),e.xp6(5),e.Q6J("ngModel",n.survey.q7),e.xp6(5),e.Q6J("ngModel",n.survey.q8),e.xp6(5),e.Q6J("ngModel",n.survey.q9),e.xp6(5),e.Q6J("ngModel",n.survey.q10),e.xp6(2),e.ekj("btn-warning",n.updating),e.xp6(1),e.Tol(n.updating?"fas fa-save":"fas fa-plus-circle"),e.xp6(1),e.hij(" ",n.updating?"Update":"Create"," "))},directives:[u._Y,u.JL,u.F,u.Fj,u.Q7,u.JJ,u.On,u.qQ,u.Fd,u.wV,g.yS],styles:[".content[_ngcontent-%COMP%]{padding-bottom:10%}"]}),i})();var q=a(4489);let f=(()=>{class i{constructor(o,n){this.auth=o,this.router=n}logout(){this.auth.logout(),this.router.navigateByUrl("/")}}return i.\u0275fac=function(o){return new(o||i)(e.Y36(q.e),e.Y36(g.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:8,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"row","mt-2"],[1,"col-3"],["routerLink","/admin/main/surveys","routerLinkActive","active",1,"btn","btn-outline-info","btn-block"],[1,"col-9"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"button",4),e._uU(5," Surveys "),e.qZA(),e.qZA(),e.TgZ(6,"div",5),e._UZ(7,"router-outlet"),e.qZA(),e.qZA(),e.qZA())},directives:[g.rH,g.Od,g.lC],encapsulation:2}),i})();var A=a(9208);function c(i,s){if(1&i&&(e.TgZ(0,"div",21),e._uU(1),e.qZA()),2&i){const o=e.oxw();e.xp6(1),e.hij(" ",o.errorMessage," ")}}function _(i,s){if(1&i&&(e.TgZ(0,"div",21),e._uU(1),e.qZA()),2&i){const o=e.oxw();e.xp6(1),e.hij(" ",o.errorMessage," ")}}let v=(()=>{class i{constructor(o,n){this.router=o,this.auth=n}ngOnInit(){this.user=new A.n,document.getElementById("register").style.display="none"}authenticate(o){o.valid?this.auth.authenticate(this.user).subscribe(n=>{n.success?(this.auth.storeUserData(n.token,n.user),this.router.navigateByUrl("survey-list")):this.errorMessage="Login Unsuccessful \uff08\uff1b\xac\uff3f\xac)"}):this.errorMessage="Form Data Invalid"}create(o){o.valid?this.auth.register(this.user).subscribe(n=>{n.success?this.router.navigateByUrl("/"):this.errorMessage=n.msg}):this.errorMessage="Form Data Invalid"}switchViews(){document.getElementById("login").style.display="none",document.getElementById("register").style.display="block"}}return i.\u0275fac=function(o){return new(o||i)(e.Y36(g.F0),e.Y36(q.e))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-auth"]],decls:55,vars:7,consts:[["id","login",1,"content"],[1,"bg-info","p-2","text-center","text-white"],[1,"row"],[1,"col-md-6","offset-md-3","col-lg-6","offset-lg-3","col-sm-8","offset-sm-1"],["class","bg-danger mt-2 p-2 text-center text-white",4,"ngIf"],["autocomplete","off",3,"ngSubmit"],["form","ngForm"],[1,"form-group","p-3"],["for","username"],["type","text","name","username","placeholder","Enter Username","id","username","required","","autofocus","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password","placeholder","Enter Password","id","password","required","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["tabindex","16",3,"click"],[1,"form-group","text-center","p-3"],["type","submit",1,"btn","btn-primary","m-1"],[1,"fas","fa-sign-in-alt"],["routerLink","/home",1,"btn","btn-secondary","m-1"],[1,"fas","fa-undo"],["id","register",1,"content"],["for","email"],["type","text","name","email","placeholder","Enter Email","id","email","required","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"bg-danger","mt-2","p-2","text-center","text-white"]],template:function(o,n){if(1&o){const d=e.EpF();e.TgZ(0,"main",0),e.TgZ(1,"div",1),e.TgZ(2,"h1"),e._uU(3,"Please Log in"),e.qZA(),e.qZA(),e.TgZ(4,"div",2),e.TgZ(5,"div",3),e.YNc(6,c,2,1,"div",4),e.TgZ(7,"form",5,6),e.NdJ("ngSubmit",function(){e.CHM(d);const t=e.MAs(8);return n.authenticate(t)}),e.TgZ(9,"fieldset",7),e.TgZ(10,"label",8),e._uU(11,"Username:"),e.qZA(),e.TgZ(12,"input",9),e.NdJ("ngModelChange",function(t){return n.user.username=t}),e.qZA(),e.qZA(),e.TgZ(13,"fieldset",7),e.TgZ(14,"label",10),e._uU(15,"Password:"),e.qZA(),e.TgZ(16,"input",11),e.NdJ("ngModelChange",function(t){return n.user.password=t}),e.qZA(),e.qZA(),e._uU(17," or "),e.TgZ(18,"a",12),e.NdJ("click",function(){return n.switchViews()}),e._uU(19,"Register Here"),e.qZA(),e.TgZ(20,"fieldset",13),e.TgZ(21,"button",14),e._UZ(22,"i",15),e._uU(23," Login "),e.qZA(),e.TgZ(24,"button",16),e._UZ(25,"i",17),e._uU(26," Cancel "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"main",18),e.TgZ(28,"div",1),e.TgZ(29,"h1"),e._uU(30,"Please Register"),e.qZA(),e.qZA(),e.TgZ(31,"div",2),e.TgZ(32,"div",3),e.YNc(33,_,2,1,"div",4),e.TgZ(34,"form",5,6),e.NdJ("ngSubmit",function(){e.CHM(d);const t=e.MAs(8);return n.create(t)}),e.TgZ(36,"fieldset",7),e.TgZ(37,"label",8),e._uU(38,"Username:"),e.qZA(),e.TgZ(39,"input",9),e.NdJ("ngModelChange",function(t){return n.user.username=t}),e.qZA(),e.qZA(),e.TgZ(40,"fieldset",7),e.TgZ(41,"label",10),e._uU(42,"Password:"),e.qZA(),e.TgZ(43,"input",11),e.NdJ("ngModelChange",function(t){return n.user.password=t}),e.qZA(),e.qZA(),e.TgZ(44,"fieldset",7),e.TgZ(45,"label",19),e._uU(46,"Email:"),e.qZA(),e.TgZ(47,"input",20),e.NdJ("ngModelChange",function(t){return n.user.email=t}),e.qZA(),e.qZA(),e.TgZ(48,"fieldset",13),e.TgZ(49,"button",14),e._UZ(50,"i",15),e._uU(51," Register "),e.qZA(),e.TgZ(52,"button",16),e._UZ(53,"i",17),e._uU(54," Cancel "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}2&o&&(e.xp6(6),e.Q6J("ngIf",null!=n.errorMessage),e.xp6(6),e.Q6J("ngModel",n.user.username),e.xp6(4),e.Q6J("ngModel",n.user.password),e.xp6(17),e.Q6J("ngIf",null!=n.errorMessage),e.xp6(6),e.Q6J("ngModel",n.user.username),e.xp6(4),e.Q6J("ngModel",n.user.password),e.xp6(4),e.Q6J("ngModel",n.user.email))},directives:[m.O5,u._Y,u.JL,u.F,u.Fj,u.Q7,u.JJ,u.On,g.rH],styles:[""]}),i})();var l=a(2290);const M=g.Bz.forChild([{path:"auth",component:v},{path:"main",component:f,canActivate:[l.a],children:[]},{path:":mode/:id",component:Z,data:{title:"Update Survey"},canActivate:[l.a]},{path:":mode/",component:Z,data:{title:"Create Survey"},canActivate:[l.a]},{path:"**",redirectTo:"auth"}]);let C=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[l.a],imports:[[m.ez,u.u5,M]]}),i})()}}]);